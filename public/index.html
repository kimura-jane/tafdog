<!-- /public/index.html -->
<!doctype html><meta charset="utf-8"><title>Mint test</title>
<h1>Wallet & API test</h1>
<button id="connect">Connect Wallet</button>
<pre id="out"></pre>
<script type="module">
const out = document.getElementById('out');
document.getElementById('connect').onclick = async () => {
  if (!window.ethereum){ out.textContent='MetaMask未検出'; return; }
  const [addr] = await window.ethereum.request({ method:'eth_requestAccounts' });
  out.textContent = 'address: ' + addr;
  const nonce = await fetch('/api/nonce',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({address:addr})}).then(r=>r.json());
  const sig   = await fetch('/api/sign' ,{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({address:addr})}).then(r=>r.json());
  out.textContent += `\nnonce: ${nonce.nonce}\nsignature: ${sig.signature}`;
};
</script>
